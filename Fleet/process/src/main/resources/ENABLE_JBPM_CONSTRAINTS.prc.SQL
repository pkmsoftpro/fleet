CREATE OR REPLACE PROCEDURE ENABLE_JBPM_CONSTRAINTS
AS
  CURSOR ALL_FKS 
  IS
  	SELECT * 
	FROM ALL_CONSTRAINTS
	WHERE TABLE_NAME LIKE 'JBPM_%' AND
		  OWNER = 'TWMS_USER' AND
	  	  CONSTRAINT_TYPE = 'R' AND 
		  STATUS = 'DISABLED';
 
  BEGIN
  
  	   FOR EACH_REC IN ALL_FKS
	   LOOP
	   	   BEGIN
				EXECUTE IMMEDIATE 'ALTER TABLE TWMS_USER.'|| EACH_REC.TABLE_NAME || ' ENABLE CONSTRAINT ' || EACH_REC.CONSTRAINT_NAME;
		   END;
	   END LOOP;
   
  END;
/

